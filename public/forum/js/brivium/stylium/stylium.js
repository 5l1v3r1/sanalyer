/**
 * Copyright (c) 2014 Brivium (http://brivium.com)
 * Author: Brivium
 * Addon: StyliumFramework
 * Version: 1.0.1
 * Released under the Brivium License Agreement: http://brivium.com/pages/terms-of-use/
 */

var Stylium={};
!function(b,c,l,q){b.extend(Stylium,{settingOptions:{primaryColor:{primaryColor:"color",primaryColorBg:"background-color",primaryColorBorder:"border-color",primaryColorBorderTop:"border-top-color"},secondaryColor:{secondaryColor:"color",secondaryColorBg:"background-color",secondaryColorBorder:"border-color",secondaryColorBorderTop:"border-top-color"},tertiaryColor:{tertiaryColor:"color",tertiaryColorBg:"background-color",tertiaryColorBorder:"border-color",tertiaryColorBorderTop:"border-top-color"},bodyBgColor:"background-color",
bodyBgImage:"background-image",bodyBgSize:{bodyBgSize:{webkit:"-webkit-background-size",moz:"-moz-background-size",o:"-o-background-size",origin:"background-size"}},bodyBgPosition:"background-position",bodyBgRepeat:"background-repeat",font:"font-family"},init:function(){var a=new Date;Stylium.SettingValueElement();console.info("Stylium.init() %dms.",new Date-a)}});Stylium.SettingValueElement=function(){$stylium=b("#styliumSetting");$stylium.find(".styliumPrimaryColor").attr("data-color",Stylium.GetSettingValue("primaryColor"));
$stylium.find(".styliumSecondaryColor").attr("data-color",Stylium.GetSettingValue("secondaryColor"));$stylium.find(".styliumTertiaryColor").attr("data-color",Stylium.GetSettingValue("tertiaryColor"));$stylium.find(".styliumBodyBackgroundColor").attr("data-color",Stylium.GetSettingValue("bodyBgColor"));layoutStyle=Stylium.GetSettingValue("layout");""==layoutStyle&&(layoutStyle="styliumWide");$stylium.find(".styliumLayout").val(layoutStyle);font=Stylium.GetSettingValue("font");$stylium.find(".styliumFont").val(font);
$stylium.find(".StyliumBodyBg").each(function(){b(this).attr("data-image")==Stylium.GetSettingValue("bodyBgImage")?b(this).addClass("selected"):b(this).removeClass("selected")});("cover"==Stylium.settingCustomValues.bodyBgSize||!Stylium.settingCustomValues.bodyBgImage&&"cover"==Stylium.GetSettingValue("bodyBgSize"))&&b.backstretch(Stylium.GetSettingValue("bodyBgImage"))};Stylium.GetSettingValue=function(a,b){if(b)return Stylium.GetSettingDefaultValue(a);$customValues=Stylium.settingCustomValues;return"undefined"!=
typeof $customValues[a]&&$customValues[a]?$customValues[a]:Stylium.GetSettingDefaultValue(a)};Stylium.GetSettingDefaultValue=function(a){$defaultValues=Stylium.settingDefaultValues;return $defaultValues[a]};Stylium.SettingChange=function(a,e){var c=Stylium.settingOptions[a],d=Stylium.settingSelectors;if(c)if("object"==b.type(c))for(property in c){if(d[property])if(selectors=Stylium.SelectorsClean(d[property]),"object"==b.type(c[property]))for(i in c[property])b(selectors).css(c[property][i],e);else b(selectors).css(c[property],
e)}else d[a]&&(selectors=Stylium.SelectorsClean(d[a]),b(selectors).css(c,e))};Stylium.SelectorsClean=function(a){selectors=b.trim(a);","==selectors.substring(selectors.length-1,selectors.length)&&(selectors=selectors.substring(0,selectors.length-1));return selectors};Stylium.CategoryToggle=function(a){this.__construct(a)};Stylium.CategoryToggle.prototype={__construct:function(a){this.$container=a;$this=this;$collapseHandler=b('<a class="styliumCategoryToggle" title="'+XenForo.phrases.BRSF_collapse+
'"><i class="fa '+Stylium._categoryCollapseTriggerClass+'"></i></a>');a.find(".categoryStrip .categoryText").length?a.find(".categoryStrip .categoryText").append($collapseHandler):a.find(".categoryStrip.subHeading").append($collapseHandler);this.$collapseHandler=$collapseHandler;$collapseHandler.click(b.context($this,"toggleContainer"))},toggleContainer:function(a){$container=this.$container;$nodeList=$container.find(".nodeList");$container.hasClass("collapse")?($container.removeClass("collapse"),
this.$collapseHandler.find("."+Stylium._categoryExpandTriggerClass).removeClass(Stylium._categoryExpandTriggerClass).addClass(Stylium._categoryCollapseTriggerClass),$nodeList.stop(!0,!0).xfSlideDown(Stylium._categoryCollapseSpeed,"easeOutQuart")):($container.addClass("collapse"),this.$collapseHandler.find("."+Stylium._categoryCollapseTriggerClass).removeClass(Stylium._categoryCollapseTriggerClass).addClass(Stylium._categoryExpandTriggerClass),$nodeList.stop(!0,!0).xfSlideUp(Stylium._categoryCollapseSpeed,
"easeOutQuart"));a.preventDefault()}};Stylium.ToTop=function(a){this.__construct(a)};Stylium.ToTop.prototype={__construct:function(a){this.$handler=a;$this=this;b(c).scroll(b.context($this,"onScroll"));a.click(b.context($this,"toTop"))},onScroll:function(a){b(c).scrollTop()>Stylium._footerGoToTopVisibilty?this.$handler.removeClass("off").addClass("on"):this.$handler.removeClass("on").addClass("off")},toTop:function(a){b("html, body").animate({scrollTop:0},Stylium._footerGoToTopSpeed);a.preventDefault()}};
Stylium.SidebarCollapse=function(a){this.__construct(a)};Stylium.SidebarCollapse.prototype={__construct:function(a){this.$handler=a;$this=this;a.on("click",b.context($this,"collapse"))},collapse:function(a){a.preventDefault();var c=b(".styliumMainSidebar").attr("data-location"),f=0,d=XenForo.isRTL(),k=Stylium._windowWidth;Stylium._mainContainerMargin&&(f=Stylium._mainContainerMargin);console.log(f);docWidthResponsive=parseInt(Stylium._maxResponsiveWideWidth,10);b(".styliumMainSidebar").is(":visible")?
(b.cookie("collapsed_sidebar",1),this.$handler.addClass("collapsed"),"left"==c||d?k>docWidthResponsive?b(".styliumMainSidebar").fadeOut("slow",function(){b(".mainContainer .mainContent").stop().animate({marginLeft:0})}):(b(".styliumMainSidebar").hide(),b(".mainContainer .mainContent").css("marginLeft",0)):k>docWidthResponsive?b(".styliumMainSidebar").fadeOut("slow",function(){b(".mainContainer .mainContent").stop().animate({marginRight:0})}):(b(".styliumMainSidebar").hide(),b(".mainContainer .mainContent").css("marginRight",
0))):(b.cookie("collapsed_sidebar",0),this.$handler.removeClass("collapsed"),"left"==c||d?k>docWidthResponsive?b(".mainContainer .mainContent").animate({marginLeft:f},function(){b(".styliumMainSidebar").fadeIn()}):(b(".styliumMainSidebar").show(),b(".mainContainer .mainContent").css("marginLeft",0)):k>docWidthResponsive?b(".mainContainer .mainContent").stop().animate({marginRight:f},function(){b(".styliumMainSidebar").fadeIn()}):(b(".styliumMainSidebar").show(),b(".mainContainer .mainContent").css("marginRight",
0)));a.preventDefault()}};Stylium.SidebarBlockCollapse=function(a){this.__construct(a)};Stylium.SidebarBlockCollapse.prototype={__construct:function(a){this.$container=a;$this=this;$has=!1;$collapseHandler=b('<a class="styliumSidebarBlockToggle" title="'+XenForo.phrases.BRSF_collapse+'"><i class="fa '+Stylium._sidebarBlockCollapseTriggerClass+'"></i></a>');a.find(".secondaryContent > h3").length?(a.find(".secondaryContent > h3").append($collapseHandler),$has=!0):a.find("> h3").length&&(a.find("> h3").append($collapseHandler),
$has=!0);this.$collapseHandler=$collapseHandler;$collapseHandler.click(b.context($this,"toggleContainer"))},toggleContainer:function(a){$container=this.$container;$children=$container.hasClass("secondaryContent")?$container.children():$container.find(".secondaryContent").children();$container.hasClass("collapse")?($container.removeClass("collapse"),this.$collapseHandler.find("."+Stylium._sidebarBlockExpandTriggerClass).removeClass(Stylium._sidebarBlockExpandTriggerClass).addClass(Stylium._sidebarBlockCollapseTriggerClass),
$children.each(function(){"H3"!=b(this).prop("tagName")&&b(this).stop(!0,!0).xfSlideDown(400,"easeOutQuart")})):($container.addClass("collapse"),this.$collapseHandler.find("."+Stylium._sidebarBlockCollapseTriggerClass).removeClass(Stylium._sidebarBlockCollapseTriggerClass).addClass(Stylium._sidebarBlockExpandTriggerClass),$children.each(function(){"H3"!=b(this).prop("tagName")&&b(this).stop(!0,!0).xfSlideUp(400,"easeOutQuart")}));a.preventDefault()}};Stylium.StickyTop=function(a){this.__construct(a)};
Stylium.StickyTop.prototype={__construct:function(a){this.$sticker=a;a.html();a.wrapInner("<div class='styliumStickyWrapperInner'></div>");a.wrapInner("<div class='styliumStickyWrapper'></div>");a.addClass("inactiveSticky");a.addClass("stickyStarted");Stylium.StickyElement(a)}};Stylium.StickyElement=function(a){windowTop=b(c).scrollTop();$wrapper=a.find(".styliumStickyWrapper");$wrapperHeight=$wrapper.outerHeight();$headerProxy=b("#headerProxy");$headerProxyHeight=$headerProxy.height();$changed=!1;
a.hasClass("activeSticky")?a.offset().top>=windowTop+Stylium.StickyElement.StackSpacer?($changed=!0,$wrapper.css("top",Stylium.StickyElement.StackSpacer),a.removeClass("activeSticky").addClass("inactiveSticky").css("height",$wrapper.outerHeight()),Stylium.StickyElement.StackSpacer-=$wrapper.outerHeight()):Stylium.StickyElement.StackSpacer+=$wrapper.outerHeight():a.offset().top<windowTop+Stylium.StickyElement.StackSpacer&&($changed=!0,$wrapper.css("top",Stylium.StickyElement.StackSpacer),a.removeClass("inactiveSticky").addClass("activeSticky").css("height",
$wrapperHeight),Stylium.StickyElement.StackSpacer+=$wrapper.outerHeight());$changed&&"navigation"==a.attr("id")&&($headerProxy.css("height",$headerProxyHeight-($wrapperHeight-$wrapper.outerHeight())),XenForo.updateVisibleNavigationTabs(),XenForo.updateVisibleNavigationLinks())};Stylium.StickyElement.StackSpacer=0;Stylium.RemoveNavDropdownArrows=function(a){this.$popupControl=a;$this=this;$navLink=a.find(".navLink");$splitCtrl=a.find(".SplitCtrl");$splitCtrl.length||($splitCtrl=a.find(".arrowWidget"));
$splitCtrl.length&&!$navLink.hasClass("NoPopupGadget")&&($splitCtrl.hide(),$navLink.addClass("NoPopupGadget").attr("rel",$splitCtrl.attr("rel")))};Stylium.RemoveSubNavigation=function(a){this.$navTab=a;$this=this;$navLink=a.find(".navLink");$navLink.length?!a.hasClass("Popup")&&a.find(".tabLinks").length&&(a.find(".tabLinks").removeClass("tabLinks").addClass("Menu JsOnly tabMenu"),a.addClass("Popup PopupControl PopupClosed  PopupContainerControl").xfActivate(),Stylium.RemoveNavDropdownArrows(a)):
a.remove()};Stylium.ViewPort=function(){var a=c,b="inner";"innerWidth"in c||(b="client",a=l.documentElement||l.body);return{width:a[b+"Width"],height:a[b+"Height"]}};Stylium.IsLandscape=function(a){if(400>=a)return b("html").addClass("isLandscape"),!0;b("html").removeClass("isLandscape");return!1};Stylium.ChangeFont=function(a,c){if(void 0==c||"google"==c)b("#styliumLoadedFont").remove(),b("head").append(b("<link href='//fonts.googleapis.com/css?family="+a+":"+Stylium.GetSettingValue("fontVariants")+
"&subset=latin,greek,vietnamese' id='styliumLoadedFont' rel='stylesheet' type='text/css'>"));fontFamily=a.replace(/\+/g," ");fontFamily="'"+fontFamily+"'";fontFamily+=", arial,helvetica,clean,sans-serif";Stylium.SettingChange("font",fontFamily)};Stylium.ResponsiveInit=function(){var a=Stylium._windowWidth,c=0;Stylium._mainContainerMargin&&(c=Stylium._mainContainerMargin);var f=b(".styliumMainSidebar").attr("data-location");docWidthResponsive=parseInt(Stylium._maxResponsiveWideWidth,10);mainContent=
b(".mainContainer .mainContent");a<=docWidthResponsive?(mainContent.css("marginRight",0),mainContent.css("marginLeft",0)):b(".styliumMainSidebar").is(":visible")&&("left"==f||XenForo.isRTL()?mainContent.css("marginLeft",c):mainContent.css("marginRight",c))};Stylium.GetWindowDimension=function(){var a=c,e="inner";"innerWidth"in c||(e="client",a=l.documentElement||l.body);Stylium._windowWidth=a[e+"Width"];Stylium._windowHeight=a[e+"Height"];$window=b(c);Stylium._winHeight=$window.height();Stylium._winWidth=
$window.width()};b(c).on("load",function(){Stylium.GetWindowDimension();var a=b(".styliumMainSidebar").attr("data-location"),c=b(".mainContainer .mainContent");Stylium._mainContainerMargin="left"==a?c.css("marginLeft"):c.css("marginRight");1==b.cookie("collapsed_sidebar")&&(b(".styliumSidebarCollapse").addClass("collapsed"),b(".styliumMainSidebar").hide(),"left"==a?c.css("marginLeft",0):c.css("marginRight",0));console.log(Stylium._mainContainerMargin)});b(c).on("resize orientationchange",function(){Stylium.GetWindowDimension();
Stylium.ResponsiveInit()});b(c).on("scroll",function(){Stylium.StickyElement.StackSpacer=0;b(".styliumStickyTop.stickyStarted").each(function(){Stylium.StickyElement(b(this))});0!=Stylium.StickyElement.StackSpacer&&(Stylium.StickyElement.StackSpacer=0)});XenForo.register(".styliumToTop",function(a){parseInt(Stylium._footerGoToTop)&&XenForo.create("Stylium.ToTop",this)});XenForo.register(".styliumSidebarCollapse",function(a){parseInt(Stylium._collapsibleSidebar)&&XenForo.create("Stylium.SidebarCollapse",
this)});XenForo.register(".sidebar > .section, .resourceListSidebar > .secondaryContent",function(a){parseInt(Stylium._collapsibleSidebarBlock)&&XenForo.create("Stylium.SidebarBlockCollapse",this)});XenForo.register(".nodeList .node.level_1",function(a){parseInt(Stylium._collapsibleCategory)&&XenForo.create("Stylium.CategoryToggle",this)});XenForo.register(".styliumToggle",function(a){parseInt(Stylium._settingEnable)&&XenForo.create("Stylium.stylium_settingFullPageBg",this)});XenForo.register(".navTab.selected",
function(a){void 0!==Stylium._subNavigation&&0==parseInt(Stylium._subNavigation)&&XenForo.create("Stylium.RemoveSubNavigation",this)});XenForo.register(".PopupControl",function(a){void 0!==Stylium._navDropdownArrows&&0==parseInt(Stylium._navDropdownArrows)&&XenForo.create("Stylium.RemoveNavDropdownArrows",this)});XenForo.register(".styliumStickyTop","Stylium.StickyTop");b(function(){Stylium.init()})}(jQuery,this,document);
(function(b,c,l){b.fn.backstretch=function(a,h){a!==l&&0!==a.length||b.error("No images were supplied for Backstretch");0===b(c).scrollTop()&&c.scrollTo(0,0);return this.each(function(){var c=b(this),d=c.data("backstretch");if(d){if("string"==typeof a&&"function"==typeof d[a]){d[a](h);return}h=b.extend(d.options,h);d.destroy(!0)}d=new e(this,a,h);c.data("backstretch",d)})};b.backstretch=function(a,c){return b("body").backstretch(a,c).data("backstretch")};b.expr[":"].backstretch=function(a){return b(a).data("backstretch")!==
l};b.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0};var q={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},a={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},e=function(a,h,d){this.options=b.extend({},b.fn.backstretch.defaults,d||{});this.images=b.isArray(h)?h:[h];b.each(this.images,function(){b("<img />")[0].src=this});this.isBody=a===
document.body;this.$container=b(a);this.$root=this.isBody?f?b(c):b(document):this.$container;a=this.$container.children(".backstretch").first();this.$wrap=a.length?a:b('<div class="backstretch"></div>').css(q).appendTo(this.$container);this.isBody||(a=this.$container.css("position"),h=this.$container.css("zIndex"),this.$container.css({position:"static"===a?"relative":a,zIndex:"auto"===h?0:h,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&f?"fixed":"absolute"});
this.index=0;this.show(this.index);b(c).on("resize.backstretch",b.proxy(this.resize,this)).on("orientationchange.backstretch",b.proxy(function(){this.isBody&&0===c.pageYOffset&&(c.scrollTo(0,1),this.resize())},this))};e.prototype={resize:function(){try{var a={left:0,top:0},b=this.isBody?this.$root.width():this.$root.innerWidth(),d=b,e=this.isBody?c.innerHeight?c.innerHeight:this.$root.height():this.$root.innerHeight(),f=d/this.$img.data("ratio"),g;f>=e?(g=(f-e)/2,this.options.centeredY&&(a.top="-"+
g+"px")):(f=e,d=f*this.$img.data("ratio"),g=(d-b)/2,this.options.centeredX&&(a.left="-"+g+"px"));this.$wrap.css({width:b,height:e}).find("img:not(.deleteable)").css({width:d,height:f}).css(a)}catch(k){}return this},show:function(c){if(!(Math.abs(c)>this.images.length-1)){var d=this,f=d.$wrap.find("img").addClass("deleteable"),e={relatedTarget:d.$container[0]};d.$container.trigger(b.Event("backstretch.before",e),[d,c]);this.index=c;clearInterval(d.interval);d.$img=b("<img />").css(a).bind("load",function(a){var g=
this.width||b(a.target).width();a=this.height||b(a.target).height();b(this).data("ratio",g/a);b(this).fadeIn(d.options.speed||d.options.fade,function(){f.remove();d.paused||d.cycle();b(["after","show"]).each(function(){d.$container.trigger(b.Event("backstretch."+this,e),[d,c])})});d.resize()}).appendTo(d.$wrap);d.$img.attr("src",d.images[c]);return d}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-
1:this.index-1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(b.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(a){b(c).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);a||this.$wrap.remove();this.$container.removeData("backstretch")}};var f,d=navigator.userAgent,
k=navigator.platform,g=d.match(/AppleWebKit\/([0-9]+)/),g=!!g&&g[1],m=d.match(/Fennec\/([0-9]+)/),m=!!m&&m[1],p=d.match(/Opera Mobi\/([0-9]+)/),r=!!p&&p[1],n=d.match(/MSIE ([0-9]+)/),n=!!n&&n[1];f=!((-1<k.indexOf("iPhone")||-1<k.indexOf("iPad")||-1<k.indexOf("iPod"))&&g&&534>g||c.operamini&&"[object OperaMini]"==={}.toString.call(c.operamini)||p&&7458>r||-1<d.indexOf("Android")&&g&&533>g||m&&6>m||"palmGetResource"in c&&g&&534>g||-1<d.indexOf("MeeGo")&&-1<d.indexOf("NokiaBrowser/8.5.0")||n&&6>=n)})(jQuery,
window);